var data = [
    {
        "album_name": "portrait",
        "description": "...",
        "photos": 
                [
                    {
                        "large": "bart.jpg",
                        "description": "Bartholomet Jo-Jo Simpson dit Bart, le fils terrible, frère de Lisa et Maggie. Il a 10 ans. Il est considéré comme le cancre et le délinquant de la famille. Porte la rumeur d'être aussi intelligent que son père alors qu'il a juste un problème de concentration. Pour preuve il a réussi à mettre plus de dix fois Tahiti Bob en prison. Pourtant, il a un grand cœur. Il est l'ami des minorités. Son pire cauchemar : Tahiti (Sideshow) Bob qu'il a fait emprisonner après un vol au Kwik-E-Mart, mais celui-ci aura l'occasion de lui sauver la vie par la suite. Dans le futur, Bart est guitariste dans un groupe de rock avec Ralph qui ne marche pas, il est divorcé d'avec la mère de ses deux fils et vit encore dans l'école primaire de Springfield.",
                        "title": "Bart Simpson"
                    },
                    {
                        "large": "homer.jpg",
                        "description": "Homer J. Simpson dit Homer Simpson, le père, gros, cupide et gourmand. Son intelligence est sous-estimée à cause d'un crayon dans son cerveau. Il adore les donuts et les côtes de porc grillées, le tout arrosé de bière Duff. Il est le chef de sécurité du secteur 7G à la centrale nucléaire de Springfield.", 
                        "title": "Homer J. Simpson"
                    },
                    {
                        "large": "marge.jpg",
                        "description": "Marjorie Bouvier dite Marge Simpson, la mère, choucroute bleue sur la tête, être sensible et sensé, c'est elle qui régit toute cette belle petite famille. Élément modéré de la famille, il lui arrive de temps à autre de déraper. Elle a une âme d'artiste.",
                        "title": "Marge Simpson"
                    },
                    {
                        "large": "lisa.jpg",
                        "description": "Elisabeth Marie Simpson dite Lisa Simpson, sœur de Bart et Maggie, le génie de la famille. Âgée de seulement 8 ans, très en avance, c'est l'être le plus sensé, le plus adulte de la famille. Elle joue du saxophone. Elle est jalouse de Maggie sûrement plus intelligente qu'elle et c'est grâce à ses bons résultats que l'école primaire de Springfield n'est pas encore fermée. Dans le futur elle est présidente des États-Unis, mariée à Milouse et mère d'une adolescente Zia Simpson.",
                        "title": "Lisa Simpson"
                    },
                    {
                        "large": "maggi.jpg",
                        "description": "Margaret Simpson dite Maggie Simpson, la petite dernière, sœur de Bart et Lisa, qui a déjà 2 ans. Elle passe son temps à sucer sa tétine. Elle parlera plusieurs fois dans divers épisodes. Elle aussi est très intelligente malgré son jeune âge, elle a entre autres écrit son nom avec son ardoise magique et E=mc2 avec des cubes, elle sait aussi tirer avec une arme. Dans le futur, Maggie est une chanteuse international mais étant enceinte elle ne parle pas, et elle est aussi mère d'une petite fille Maggie Jr.",
                        "title": "Maggie Simpson"
                    },
                    {
                        "large": "abe.png",
                        "description": "Abraham « Abe » Simpson : 85 ans, le père d’Homer, râleur et sénile, vit au « Retirement Castel » (Château de la Retraite), où il a eu une tendre liaison avec une des pensionnaires, Béa, qui malheureusement meurt trop tôt. Il a combattu pour les forces armées américaines au cours de la Seconde Guerre mondiale, d'abord sur le front du Pacifique où il était responsable de la surveillance aérienne à Pearl Harbor avant de devenir aviateur avec pour mitrailleur M. Burns, puis sur le front européen (il aura d'ailleurs une relation sexuelle avec une jeune anglaise la veille de son départ pour le débarquement de Normandie. Leur fille Abbie, issue de cette union, ressemble en tous points à Homer). Il lui arrive également très souvent de s'endormir subitement, même en plein milieu d'un discours. Il a vendu sa maison pour financer l'achat de la maison d'Homer en échange de son hospitalité, mais ce-dernier l'a trahi en l'envoyant dans une maison de retraite.",
                        "title": "Abraham « Abe » Simpson"
                    }
                ]
            },

            {
                "album_name": "famille",
                "description": "...",
                "photos":
                [
                    {
                        "large": "family.jpg",
                        "description": "La famille Simpson",
                        "title": "La famille Simpson"
                    },
                    {
                        "large": "famille.jpg",
                        "description": "La famille Simpson",
                        "title": "La famille Simpson"
                    },
                    {
                        "large": "famille2.jpg",
                        "description": "La famille Simpson",
                        "title": "La famille Simpson"
                    },
                    {
                        "large": "spider.jpg",
                        "description": "Spider cochon est le cochon que Homer adopte dans les Simpson le Film.",
                        "title": "Spider Cochon"
                    },
                    {
                        "large": "noel.jpg",
                        "description": "Petit Papa Noël est le chien des Simpson. C'est un lévrier. Il a été adopté par Bart et Homer dans le tout premier épisode de la série après avoir été abandonné par son propriétaire à la suite d'une course de lévrier qu'il a lamentablement perdu. Son ancien propriétaire l'avait appelé tout simplement 'Numéro 8', le numéro sous lequel il courrait. Petit Papa Noël est réputé pour être assez stupide et incapable d'écouter un ordre. Si bien que Bart a été obligé de l'envoyer dans une école de dressage, malheureusement sans grand succès. Il a manqué de mourir lorsqu'il s'est retourné l'estomac. La famille a alors dû faire des économies pour lui payer une couteuse opération chez un vétérinaire. Suite à ça, voyant qu'on ne s'occupait plus de lui, il a préféré partir et a fait partie de la meute de chiens de M. Burns avant de revenir chez les Simpson. Celui qui s'occupe le plus de lui est sans doute Bart qui est son propriétaire attitré. Cependant, Bart l'a un peu abandonné lorsqu'il a eu un nouveau chien : Laddie. Maggie aime également passer du temps avec lui. Par ailleurs, il s'entend étonnement bien avec Boule de Neige II, le chat des Simpson. Lors d'une course de lévriers, Petit Papa Noël s'est précipité sur une femelle lévrier dénommée 'Elle est la plus rapide'. Ils ont eu 25 chiots. Ceux-ci ont été adoptés par M. Burns qui voulait en faire un manteau de fourrure. Finalement, les chiots ont été récupérés et adoptés par d'autres habitants de Springfield. Il a également mis enceinte la caniche du docteur Hibbert Par ailleurs, il a été fait allusion au fait qu'il était aussi attiré par les mâles lors du défilé de la gay pride. Il était la mascotte de la Duff et se faisait était appelé Suds McDuff. Il a également été chien policier le temps d'un épisode, c'est Lou qui était son maître. Enfin, il est à noter qu'il aboie très rarement.",
                        "title": "Petit Papa Noël"
                    }
                ]
            },

            {
                "album_name": "amis",
                "description": "...",
                "photos":
                [
                    {
                        "large": "chef wiggum.jpg",
                        "description": "Clancy, le chef de police incompétent de Springfield ; Il ressemble beaucoup à Homer dans son comportement.",
                        "title": "Chef Wiggum"
                    },
                    {
                        "large": "duffman.jpg",
                        "description": "Barry « Duff Man » Duffman, personnage portant en permanence un costume bleu turquoise et rouge, avec une cape rouge, digne d'un super-héros avec une ceinture de canettes de bière de la marque, plus une casquette et des lunettes de soleil sombres. Il est l'incarnation et le principal promoteur de la bière Duff (bien qu'il existe en réalité trois Duffman).",
                        "title": "Duffman"
                    },
                    {
                        "large": "milous.jpg",
                        "description": "Milhouse Mussolini Van Houten, fils de la famille, meilleur ami de Bart. Il est amoureux de Lisa et se marie avec elle dans l'épisode Le Futur passé.",
                        "title": "Milhouse"
                    },
                    {
                        "large": "moe.jpg",
                        "description": "Moe Szyslak, propriétaire de la taverne, laid et mal-aimé, il veut souvent se suicider : il s'est déjà fait refaire le visage dans un épisode, mais a retrouvé son ancien visage après un accident sur un tournage puis il voulait sauter d'un pont et, par chance, il a rattrapé Maggie Simpson quand Homer a presque foncé dans une voiture (Saison 14 - Épisode 17 : Moe, le baby-sitter). Il est d'origine néerlandaise ou italienne lors d'une apparition de lui étant enfant et parlant avec un accent italien. Il a été un élève brillant à l'université pour barmans de « C'est ma tournée ! » dans Les Maux de Moe (Saison 13 - Épisode 3).",
                        "title": "Moe Szyslak"
                    },
                    {
                        "large": "ned.png",
                        "description": "Nedward Ned Flanders, le père, bien intentionné, généreux, fervent chrétien traditionaliste, propriétaire de la boutique Le palais du gaucher (Le Gaucherium au Québec), puis professeur à l'Ecole Elémentaire de Springfield, il est âgé de 60 ans. Bien qu'il ait une apparence chétive, il est en réalité très musclé.",
                        "title": "La ferme Flanders"
                    },
                    {
                        "large": "apu.jpg",
                        "description": "Apu, propriétaire et employé à temps plein du Kwik-E-Mart (Mini-marché) de Springfield.",
                        "title": "Apu Nahasapeemapetilon"
                    },
                    {
                        "large": "barney.jpg",
                        "description": "Barney Gumble, ancien traqueur de boissons, meilleur ami d'Homer, surdoué jusqu'à la veille de son examen où Homer lui fait découvrir une Bière Duff et devient alors alcoolique et rate sa vie.",
                        "title": "Barney Gumble"
                    },
                    {
                        "large": "carl.jpg",
                        "description": "Carl Carlson (autre ami d'Homer de la centrale) : il apparaît presque toujours avec Lenny. Carl n'est pas seulement le collègue d'Homer mais aussi un de ses meilleurs amis depuis l'enfance. Il est noir et beau, bouddhiste, possède une maîtrise en physique nucléaire, adore le bowling et boire un coup chez Moe. Dans l'épisode La Guerre pour les étoiles, il évoque son enfance en Islande. Ce sont pratiquement les seuls détails de sa vie connus. Il a affirmé par le passé qu'il a une famille et qu'il est le supérieur d'Homer, mais il garde la plupart du temps ces choses pour lui, à cause de sa langue éternellement caustique.",
                        "title": "Carl Carlson"
                    },
                    {
                        "large": "lenny.jpg",
                        "description": "Lenny Leonard (ami d'Homer de la centrale) : apparaît presque toujours avec Carl. Très populaire auprès de ses proches, chanceux et généreux, Marge, Bart et Lisa l'aiment particulièrement. C'est un fan de bowling et on le retrouve souvent dans le bar de Moe. On découvre dans un épisode de la saison 13 qu'il est bouddhiste, tout comme Carl.",
                        "title": "Lenny Leonard"
                    },
                    {
                        "large": "skinner.jpg",
                        "description": "Seymour Skinner est le principal de l’école élémentaire de Springfield. Sous son éternel costume trop serré se cache un home sévère et strict, mais qui a l’avantage d’être craint et donc respecté par la majorité des élèves de son école. Mais malheureusement, pas de la totalité car si il sait garder son sang froid dans de nombreuses situations, il perd tout ses moyens devant un Bart désireux de faire la nouvelle plus grosse bêtise de sa vie, ou encore face à la terrible bande de Nelson, Jimbo et compagnie. Et bien entendu, dès qu’un de ces lascar prépare une farce, le superintendant Chalmers qui vient régulièrement pour surveiller le travail de Skinner n’est jamais loin… Skinner n'a pas toujours été coincé comme il l'est aujourd'hui. Lorsqu'il a pris les commandes de l'école il y a plusieurs années, il était même plutôt cool. Jusqu'à ce que Andy Hamilton, un ancien élève ne lui fasse une farce tellement horrible que ça l'a littéralement changé : il a enfermé le principal un weekend entier dans une piscine remplie de vers. Le principal Skinner comme il est plus communément appelé dans la série ne cesse de se remémorer le temps où il eut à combattre au Viet Nam, il en fait sans cesse référence. D’ailleurs, alors qu’il participait à cette terrible guerre, il ne portait pas encore ce nom. En effet, cet homme s’appelait alors Armin Tamzarian, son véritable nom. Son meilleur ami s’appelait alors Seymour Skinner et il fut tué à la guerre. Alors qu’il se rendait chez la mère du véritable Seymour Skinner, ne pouvant affronter de devoir dire la vérité à Agnes, Armin se fit passer pour Seymour Skinner et pris sa place. Personne ne se douta de rien jusqu’à ce que le vrai Seymour Skinner qui n’était pas mort revint à Springfield le temps d’un épisode. Mais la relation entre Skinner et celle qu’il appelle « mère » depuis son retour du Viet Nam était trop forte, pas même le véritable fils d’Agnes Skinner ne pouvais venir prendre sa place. Le principal qui vit toujours chez sa mère répond à tous ses caprices ce qui est la source d’innombrables conflits entre ces deux là. Et ce n’est sûrement pas une femme qui pourra les séparer. Seymour en pince pour l’institutrice de Bart, Edna Krapabelle depuis l’anniversaire de Martin où ils se sont embrassés. Depuis ce temps là, Seymour et Edna entretiennent une relation de « Je t’aime / Moi non plus » et l’unique personne qui rend cet amour impossible est bien entendu la mère Skinner. Seymour et Edna devait même se marier mais ce fut impossible à cause d’Agnes. Ainsi, à défaut de pouvoir avoir une relation sérieuse, Seymour et Edna se voient occasionnellement lorsque l’envie leur en prend.",
                        "title": "Seymour Skinner"
                    },
                    {
                        "large": "krusty.jpg",
                        "description": "Krusty est créé par le dessinateur Matt Groening et partiellement inspiré par Rusty Nails, un clown de télévision de la ville natale de Groening, Portland dans l'Oregon. Il est dessiné de manière à ressembler à Homer Simpson avec un maquillage de clown, dans le but premier de faire que Bart adore un clown de télévision qui ressemble à son propre père. Sa voix originale s'inspire de Bob Bell, qui interprétait Bozo le clown sur WGN-TV.",
                        "title": "Krusty le clown"
                    }
                ]

            },
            {
                "album_name": "vilains",
                "description": "...",
                "photos":
                [
                    {
                        "large": "burns.png",
                        "description": "Charles Montgomery Burns : propriétaire, milliardaire machiavélique et assoiffé d'argent.",
                        "title": "M. Burns"
                    },
                    {
                        "large": "gros_tony.jpg",
                        "description": "Gros Tony : chef de la mafia de Springfield et souvent accompagné de ses hommes de main. La mafia fait de récurrentes mais rapides apparitions au cours des épisodes, dans lesquelles on la voit cacher des cadavres sans plus d'information. Malgré cela et malgré quelques plus « gros coups » dans d'autres épisodes, Gros Tony et sa bande ne sont que très rarement inquiétés par les policiers, même quand ils « taquinent » ces derniers à l'arme à feu. Gros Tony a déjà aidé Bart, Marge et Homer mais, à chaque fois, son instinct criminel reprend le dessus et cela se termine mal. Il a un fils du nom de Michael et sa chanson préférée est Radio Love. Il meurt dans la saison 22 épisode Gym Tony et est remplacé par son cousin Gym Tony qui deviendra finalement Gros Tony.",
                        "title": "Gros Tony"
                    },
                    {
                        "large": "tahiti.jpg",
                        "description": "Tahiti Bob est l'ennemi juré de Bart qui a tenté, par maintes fois, de le tuer. Il est à l'origine l'un des personnages de l'émission de Krusty et s'est retrouvé en prison alors qu'il a tenté de faire arrêter Krusty afin de prendre la tête de l'émission. Il lui arrive de se prendre des râteaux en plein visage de temps en temps. ",
                        "title": "Tahiti Bob"
                    },
                    {
                        "large": "serpent.jpg",
                        "description": "Le serpent est l'un des plus redoutés des criminels de Springfield. Il est spécialisé dans les braquages (en particulier au mini-marché) et dans les vols en tout genre. Il a un fils à qui il apprend à suivre les traces de son père.",
                        "title": "Le Serpent"
                    },
                    {
                        "large": "nelson.jpg",
                        "description": "Nelson Muntz est l'un des élèves de l'école élémentaire de Springfield. Il est dans la classe de Mlle Krapabelle, la même que Bart. Nelson est la brute épaisse de l'école. Il dicte sa loi à tous les autres enfants et dirige le groupe de loubards. Nelson, Jimbo, Kearney et Dolph forment le quatuor diabolique de la vie élémentaire. Ils s'en prennent régulièrement à Martin Prince pendant et en dehors des heures de cours au vu et au su de tous. En plus d'avoir un caractère violent, il provoque constamment les personnes dans son entourage. On le voit souvent se démarquer de l'arrière-plan après une situation humiliante lorsqu'il rit et montre du doigt la personne dont il se moque ouvertement. Brute en chef, Nelson est en fait un garçon déjà bien amoché par la vie. À son âge, il a du faire face à des situations douloureuses. Abandonné par son père, il vit avec sa mère, une stripteaseuse alcoolique, dans une maison ressemblant plus à une cabane qu'à un domicile. Mais sous ses airs bourru, il n'en est pas moins romantique. Il est sorti avec Lisa le temps d'un épisode et a déclaré ne pas frapper les filles au risque de se faire griffer, mordre et de tomber amoureux (phénomène antérieur à l'agriculture selon ses propres mots)",
                        "title": "Nelson Muntz"
                    }
                ]
            },
            {
                "album_name": "guests",
                "description": "...",
                "photos":
                [
                    {
                        "large": "matt.jpg",
                        "description": "Les Simpson (The Simpsons) sont une série télévisée d'animation américaine créée par Matt Groening et diffusée depuis le 17 décembre 1989 sur le réseau Fox.",
                        "title": "Matt Groening"
                    },
                    {
                        "large": "hawking.jpg",
                        "description": "Si peu de gens ont compris ses théories, la personnalité hors du commun et la passion pour la science-fiction de l'astrophysicien Stephen Hawking ont fait de lui une icône de la pop culture, adulée de la communauté geek.",
                        "title": "Stephen Hawking"
                    },
                    {
                        "large": "green-day.jpg",
                        "description": " The Simpsons Theme est un single du groupe de punk rock californien Green Day sorti le 24 juillet 2007. Cette chanson reprend le thème d'ouverture de la fameuse série télévisée américaine Les Simpson. Il a atteint dans de nombreux pays de hautes places dans les charts, la 106e sur le Billboard Hot 100 (USA), la 19e sur le UK Singles Chart, et la 16e sur le top des téléchargements au Royaume-Uni. Cette reprise de Green Day a été initialement réalisée dans le cadre du film Les Simpson. On voit en effet tout au début du film les membres du groupe « simpsonisés » jouant le Simpsons Theme sur une barge sur le lac de Springfield. Cependant, la barge fond, le groupe prend des violons et joue en coulant dans le lac acide. Plus tard dans le film, une messe en leur honneur est donnée par le révérend Lovejoy, sur une version funèbre de la chanson American Idiot.",
                        "title": "Green Day"
                    }
                ]
            }    
];


var $thumbnailList = document.getElementById("thumbnail-list");

function onButtonClick(){
    var $myButton = event.target;
    var albumName = $myButton.getAttribute("data-album-id");

    var album = findAlbum(albumName);
    if(album != null){
        updateSelectedAlbum(album);
    }
}

function findAlbum(albumNameToFind){
    for(var i = 0; i < data.length; i++){
        var possibleAlbum = data[i];
        if(possibleAlbum.album_name == albumNameToFind){
            return data[i];
        }
    }

    return null;
}

function updateSelectedAlbum(newAlbum){
    $thumbnailList.innerHTML = newAlbum.photos.map(photo => {
        const href = `./img/${newAlbum.album_name}/${photo.large}`;
        return `
        <a href="${href}" title="${photo.title}" data-description="${photo.description}">
            <img src="${href}" title="${photo.title}"/>
        </a>
        `;
    }).join("");

    displayPics();
}

function displayPics(){
    var photos = document.getElementById('thumbnail-list');
    var liens = photos.getElementsByTagName('a');
    var main_picture = document.getElementById('main-picture');
    var main_title = document.getElementById('photo').getElementsByTagName('h2')[0];
    var main_description = document.getElementById('main-description');


    for(var i = 0; i < liens.length; ++i){
        liens[i].onclick = function(){
            const descr = this.getAttribute("data-description");
            main_picture.src = this.href;
            main_picture.alt = this.title;
            main_title.firstChild.nodeValue = this.title;
            main_description.innerHTML = descr;
            return false;
        };
    }
}
window.onload = displayPics;
