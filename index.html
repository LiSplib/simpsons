<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="style.css">
        <title>PictureBox</title>
        <link rel="shortcut icon" href="img/donuts.png" type="image/x-icon">
        <link rel="manifest" href="manifest.json">
    </head>
    <body>

        <header><h1>Simpson PictureBox</h1>
            <button style="color: red" type="button" id="btnAdd">Installez moi !</button>
            <figure>
                <figcaption>Simpson Theme</figcaption>
                <audio controls src="https://listen.hs.llnwd.net/g2/9/1/8/6/1/902716819.mp3"></audio>
            </figure>
        </header>
        
        
        <nav class="catalogues">
            <button type="button"><a href="">Acceuil</a></button>
            <button type="button" onclick="onButtonClick()" data-album-id="portrait">Portraits</button>
            <button type="button" onclick="onButtonClick()" data-album-id="famille">En famille</button>
            <button type="button" onclick="onButtonClick()" data-album-id="amis">Les amis</button>
            <button type="button" onclick="onButtonClick()" data-album-id="vilains">Les vilains</button>
            <button type="button" onclick="onButtonClick()" data-album-id="guests">Les Guests</button>
        </nav>

        <div class="container">
            <div class=vignettes id="scroller">
                <div id="thumbnail-list" class="caroussel">
                    <a href="img/famille/famille.jpg" title="la famille Simpson"><img src="img/famille/famille.jpg" alt="famille simpson" title="famille Simpson"></a>
                </div>
            </div>

            <article id="photo">
                <img id="main-picture" src="img/famille/famille.jpg" alt="famille simpson">
                <header>
                    <h2 id="main-title">La famille Simpson</h2>
                </header>
                    <p id="main-description">
                        La famille Simpson est une famille fictive au centre de la série d'animation Les Simpson. Les Simpson sont une famille nucléaire composée du couple marié formé par Homer et Marge et de leurs trois enfants, Bart, Lisa et Maggie. Ils vivent au 742 Terrace Evergreen, dans la ville fictive de Springfield, aux États-Unis. La famille a été créée par le dessinateur Matt Groening, à qui il avait été fait appel pour lancer une série de courts métrages basée sur Life in Hell, mais celui-ci a décidé de créer un nouvel ensemble de personnages. Il a nommé les personnages d'après les prénoms de sa propre famille, substituant son nom par « Bart ». La famille Simpson a fait ses débuts à la télévision dans un court métrage du Tracey Ullman Show, Good Night, le 19 avril 1987. Après avoir fait l'objet de courts métrages durant trois ans, elle a été au centre de la série Les Simpson sur le réseau Fox dès le 17 décembre 1989.
                        Outre les cinq principaux membres de la famille, il existe de nombreux autres personnages importants ou secondaires dans la famille. Les autres personnages de la famille qui apparaissent le plus souvent sont Abraham Simpson, le père d'Homer, Patty et Selma Bouvier, les sœurs de Marge, les deux animaux de compagnie de la famille, Petit Papa Noël et Boule de Neige II et dans une moindre mesure, Mona Simpson, la mère d'Homer, Jacqueline Bouvier, la mère de Marge, ainsi qu'une large gamme d'autres personnages secondaires. 
                    </p>
            </article>
        </div>
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    // Registration was successful
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    }, function(err) {
                    // registration failed :(
                    console.log('ServiceWorker registration failed: ', err);
                    });
                });
                }
                var CACHE_NAME = 'Simpson v1.0';
                var urlsToCache = [
                '/',
                'style.css',
                'script.js'
                ];

                self.addEventListener('install', function(event) {
                // Perform install steps
                event.waitUntil(
                caches.open(CACHE_NAME)
                .then(function(cache) {
                    console.log('Opened cache');
                    return cache.addAll(urlsToCache);
                    })
                );
                });
                self.addEventListener('fetch', function(event) {
                event.respondWith(
                    caches.match(event.request)
                    .then(function(response) {
                        // Cache hit - return response
                        if (response) {
                        return response;
                        }

                        return fetch(event.request).then(
                        function(response) {
                            // Check if we received a valid response
                            if(!response || response.status !== 200 || response.type !== 'basic') {
                            return response;
                            }

                            // IMPORTANT: Clone the response. A response is a stream
                            // and because we want the browser to consume the response
                            // as well as the cache consuming the response, we need
                            // to clone it so we have two streams.
                            var responseToCache = response.clone();

                            caches.open(CACHE_NAME)
                            .then(function(cache) {
                                cache.put(event.request, responseToCache);
                            });

                            return response;
                        }
                        );
                    })
                    );
                });
                self.addEventListener('activate', function(event) {

                var cacheWhitelist = ['pages-cache-v1', 'blog-posts-cache-v1'];

                event.waitUntil(
                caches.keys().then(function(cacheNames) {
                    return Promise.all(
                    cacheNames.map(function(cacheName) {
                        if (cacheWhitelist.indexOf(cacheName) === -1) {
                        return caches.delete(cacheName);
                        }
                    })
                    );
                })
                );
                });



    

        </script>
        <!-- <script src="DoYouWantThis.js"></script> -->
        <script src="script.js"></script>
    </body>
</html>